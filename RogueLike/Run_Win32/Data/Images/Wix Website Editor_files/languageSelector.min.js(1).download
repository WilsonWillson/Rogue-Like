function _defineProperty(e,o,r){return o in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}define("languageSelector/skins/skins.json",[],function(){"use strict";var e={};return e["wysiwyg.viewer.skins.LanguageButtonSkin"]={react:[["div","icon",[],{}],["div","label",[],{}],["div","spacer",[],{}],["div","arrow-icon",[],{}]],params:{itemFont:"FONT",itemTextColor:"COLOR",itemHoverTextColor:"COLOR",iconType:"ICON_TYPE"},paramsDefaults:{itemFont:"font_0",itemTextColor:"color_1",itemHoverTextColor:"color_2",iconType:"circle"},css:{"%":"display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;cursor:pointer;[itemFont]  color:[itemTextColor];","%:hover":"color:[itemHoverTextColor];","%_left":"-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;","%_left %spacer":"-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;","%_left %arrow-icon":"padding-right:10px;","%_center":"-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;","%_center %arrow-icon":"padding-right:10px;","%_right":"-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;","%_right %arrow-icon":"-webkit-box-ordinal-group:2;-webkit-order:1;order:1;padding-left:10px;","%_right %spacer":"-webkit-box-ordinal-group:3;-webkit-order:2;order:2;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;","%_right %label":"-webkit-box-ordinal-group:4;-webkit-order:3;order:3;","%_right %icon":"-webkit-box-ordinal-group:5;-webkit-order:4;order:4;","%_hidden %arrow-icon":"display:none;","%_hidden %spacer":"display:none;","%icon":"padding:0 10px;box-sizing:border-box;[iconType]","%icon %_iconImg":"display:block;height:30px;","%arrow-icon":"width:10px;","%spacer":"-webkit-box-flex:0;-webkit-flex:0 0 20px;flex:0 0 20px;"}},e["wysiwyg.viewer.skins.LanguageSelectorSkin"]={react:[],exports:{languageButton:{skin:"wysiwyg.viewer.skins.LanguageButtonSkin"}},params:{itemSpacing:"SIZE",borderRadius:"BORDER_RADIUS",boxShadow:"BOX_SHADOW",borderColor:"COLOR_ALPHA",borderWidth:"SIZE",backgroundColor:"BG_COLOR",borderSides:"BORDER_SIDES"},paramsDefaults:{itemSpacing:"5px",borderRadius:"5px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.5)",borderColor:"#202020",borderWidth:"1px",backgroundColor:"color_4",borderSides:"none"},css:{"%":"z-index:99;","%_dropdownWrapper":"display:none;","%_open %_dropdownWrapper":"display:block;",'%[data-preview~="open"] %_dropdownWrapper,%[data-preview~="regular"] %_dropdownWrapper':"display:block;","%_currentLanguageWrapper":"cursor:pointer;position:relative;height:100%;width:100%;display:table;","%_currentLanguageWrapper > *":"display:table-cell;vertical-align:middle;","%_allLanguages%_horizontal":"display:-webkit-box;display:-webkit-flex;display:flex;width:100%;height:100%;box-sizing:border-box;border-spacing:[itemSpacing] 0;","%_allLanguages%_horizontal > *":"-webkit-box-flex:1;-webkit-flex:auto;flex:auto;-webkit-box-align:center;-webkit-align-items:center;align-items:center;[borderRadius]    [boxShadow]    border-style:solid;border-color:[borderColor];border-width:[borderWidth];","%_allLanguages%_horizontal > *:last-of-type":"margin-right:0;","%_allLanguages%_horizontal%_box":"border-style:solid;border-color:[borderColor];border-width:[borderWidth];[borderRadius]    [boxShadow]","%_allLanguages%_horizontal%_box > *":"border:none;box-shadow:none;","%_allLanguages%_horizontal%_all":"border:none;","%_allLanguages%_horizontal%_wall":"border:none;","%_allLanguages%_horizontal%_wall > *":"border-left:none;border-top:none;border-bottom:none;","%_allLanguages%_horizontal%_wall > *:last-of-type":"border-right:none;","%_allLanguages%_horizontal%_none":"border:none;","%_allLanguages%_horizontal%_none > *":"border:none;","%_allLanguages%_horizontal%_top":"border:none;","%_allLanguages%_horizontal%_top > *":"border-left:none;border-right:none;border-bottom:none;","%_allLanguages%_horizontal%_bottom":"border:none;","%_allLanguages%_horizontal%_bottom > *":"border-left:none;border-right:none;border-top:none;","%_allLanguages%_dropdown":"width:100%;position:relative;white-space:nowrap;[boxShadow]  background-color:[backgroundColor];box-sizing:border-box;[borderSides]  [borderRadius]  border-style:solid;border-color:[borderColor];border-width:[borderWidth];","%_allLanguages%_dropdown %_languageButtonWrapper":"display:table;width:100%;","%_allLanguages%_dropdown%_box > *":"border:none;","%_allLanguages%_dropdown%_all":"border:none;","%_allLanguages%_dropdown%_all %_currentLanguageWrapper,%_allLanguages%_dropdown%_all %_dropdownWrapper > *":"border-style:solid;border-color:[borderColor];border-width:[borderWidth];","%_allLanguages%_dropdown%_all %_currentLanguageWrapper":"[borderRadius]","%_allLanguages%_dropdown%_all%_open %_currentLanguageWrapper":"border-bottom-left-radius:0;border-bottom-right-radius:0;","%_allLanguages%_dropdown%_all %_dropdownWrapper > *":"border-top:none;","%_allLanguages%_dropdown%_all %_dropdownWrapper > *:last-child":"[borderRadius]        border-top-left-radius:0;border-top-right-radius:0;","%_allLanguages%_dropdown%_wall":"border:none;","%_allLanguages%_dropdown%_wall %_dropdownWrapper > *":"border-top-style:solid;border-top-color:[borderColor];border-top-width:[borderWidth];","%_allLanguages%_dropdown%_none":"border:none;","%_allLanguages%_dropdown%_none > *":"border:none;","%_allLanguages%_dropdown%_top":"border-left:none;border-right:none;border-bottom:none;","%_allLanguages%_dropdown%_bottom":"border:none;","%_allLanguages%_dropdown%_bottom %_currentLanguageWrapper,%_allLanguages%_dropdown%_bottom %_dropdownWrapper > *":"border-bottom-style:solid;border-bottom-color:[borderColor];border-bottom-width:[borderWidth];"}},e}),define("languageSelector/languageButton/arrowIconMode",[],function(){"use strict";return{HIDDEN:"hidden",PLACEHOLDER:"placeholder",VISIBLE:"visible"}}),define("languageSelector/languageButton/languageButton",["lodash","core","utils","react","santaProps","coreMultilingual","languageSelector/languageButton/arrowIconMode"],function(e,o,r,n,t,a,i){"use strict";var l={SHORT_NAME:"shortName",FULL_NAME:"fullName"},s={displayName:"LanguageButton",mixins:[o.compMixins.skinBasedComp],propTypes:{compData:t.Types.Component.compData.isRequired,compProp:t.Types.Component.compProp.isRequired,compTheme:t.Types.Component.theme.isRequired,serviceTopology:t.Types.ServiceTopology.serviceTopology,onClick:n.PropTypes.func,arrowIconMode:n.PropTypes.string.isRequired},statics:{useSantaTypes:!0},getTranslation:function(o){return e.get(r.translations.multilingualTranslations,["en",o])},getIconUrl:function(o){var n=e.partial(a.utils.getIconFileName,e,o),t=e.flow(a.utils.translationKey.getFlagCountry,this.getTranslation,n)(this.props.compData.languageCode);return r.media.getMediaUrl(this.props.serviceTopology,"languageSelector/flags/")+t},createLabel:function(){var e=this.props.compData.languageCode,o=this.props.compProp.itemFormat,r=void 0;if(o===l.SHORT_NAME)r=a.utils.translationKey.getShortName(e);else{if(o!==l.FULL_NAME)return[];r=a.utils.translationKey.getFullName(e)}return[this.getTranslation(r)]},createIcon:function(){var e=this.props.compTheme.style.properties.iconType;return[n.DOM.img({src:this.getIconUrl(e),className:this.classSet({iconImg:!0})})]},onButtonClick:function(){this.props.onClick&&this.props.onClick(this.props.compData.languageCode)},componentDidMount:function(){},componentWillReceiveProps:function(){},getClassSet:function(){var e;return e={},_defineProperty(e,this.props.compProp.alignTabs,!0),_defineProperty(e,this.props.arrowIconMode,!0),e},getSkinProperties:function(){return{"":{className:this.classSet(this.getClassSet()),onClick:this.onButtonClick},label:{children:this.createLabel()},icon:{children:"none"===this.props.compTheme.style.properties.iconType?null:this.createIcon()},"arrow-icon":{children:this.props.arrowIconMode!==i.VISIBLE?null:[n.DOM.img({src:'data:image/svg+xml;utf8,<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.2828 4.89817"><defs><style>.cls-1{fill:#010101;}</style></defs><title>arrow&amp;amp;v</title><path class="cls-1" d="M4.64116,4.89817a.5001.5001,0,0,1-.34277-.13574L.15727.86448A.50018.50018,0,0,1,.84282.136L4.64116,3.71165,8.44.136a.50018.50018,0,0,1,.68555.72852L4.98393,4.76243A.5001.5001,0,0,1,4.64116,4.89817Z"/></svg>'})]}}},componentWillUnmount:function(){}};return o.compRegistrar.register("wysiwyg.viewer.components.LanguageButton",s),s}),define("languageSelector",["lodash","core","react","santaProps","coreUtils","skins","languageSelector/skins/skins.json","languageSelector/languageButton/arrowIconMode","languageSelector/languageButton/languageButton"],function(e,o,r,n,t,a,i,l){"use strict";var s={displayName:"LanguageSelector",mixins:[o.compMixins.skinBasedComp],propTypes:{compProp:n.Types.Component.compProp.isRequired,compTheme:n.Types.Component.theme.isRequired,multilingual:n.Types.RendererModel.multilingual,currentLanguage:n.Types.MultilingualSantaTypes.currentLanguage,componentViewMode:n.Types.RenderFlags.componentViewMode},statics:{useSantaTypes:!0},orderLanguages:function(o){var r=e.indexOf(this.props.compProp.languagesOrder,o);return-1===r?1/0:r},createButton:function(o,r){var n=this;return this.createChildComponent({languageCode:o},"wysiwyg.viewer.components.LanguageButton","languageButton",e.assign({id:this.props.id+o+"Button",onClick:function(e){r.onClick(e),n.closeDropdown()}},r))},getOrderedLanguages:function(){var o=this.props.multilingual;return e.sortBy(o.sitePublicLanguages,this.orderLanguages)},createDropdownButtons:function(o){return e(this.getOrderedLanguages()).pull(this.props.currentLanguage).map(function(e){return r.DOM.div({className:this.classSet({languageButtonWrapper:!0}),style:{height:o},children:[this.createButton(e,{arrowIconMode:l.PLACEHOLDER,onClick:t.multilingual.setCurrentLanguage})]})}.bind(this)).value()},getInitialState:function(){return{isDropdownOpen:!1}},toggleDropDown:function(){this.state.isDropdownOpen?this.closeDropdown():this.setState({isDropdownOpen:!0})},closeDropdown:function(){this.setState({isDropdownOpen:!1})},isComponentHidden:function(){return"editor"!==this.props.componentViewMode&&this.props.multilingual.sitePublicLanguages.length<=1},componentWillReceiveProps:function(){},getCommonClassSet:function(){return _defineProperty({allLanguages:!0},this.props.compTheme.style.properties.borderSides,!0)},getHorizontalComponent:function(){var o=e.assign(this.getCommonClassSet(),{horizontal:!0}),n=e.map(this.getOrderedLanguages(),function(e){return this.createButton(e,{arrowIconMode:l.HIDDEN,onClick:t.multilingual.setCurrentLanguage})}.bind(this));return{"":{children:r.DOM.div({className:this.classSet(o),children:n})}}},getDropdownComponent:function(){var o=e.assign(this.getCommonClassSet(),{dropdown:!0,open:this.state.isDropdownOpen}),n=this.props.style.height,t=this.createButton(this.props.currentLanguage,{arrowIconMode:l.VISIBLE,onClick:e.noop});return{"":{hidden:this.isComponentHidden(),tabIndex:1,onBlur:this.closeDropdown,children:r.DOM.div({className:this.classSet(o),children:[r.DOM.div({className:this.classSet({currentLanguageWrapper:!0}),style:{height:n},onClick:this.toggleDropDown,children:[r.DOM.div({className:this.classSet({currentLanguage:!0}),children:[t],ref:"currentLanguage"})]}),r.DOM.div({className:this.classSet({dropdownWrapper:!0}),children:this.createDropdownButtons(n),ref:"dropdownWrapper"})]})}}},getSkinProperties:function(){return"dropdown"===this.props.compProp.displayMode?this.getDropdownComponent():this.getHorizontalComponent()},componentWillUnmount:function(){}};return o.compRegistrar.register("wysiwyg.viewer.components.LanguageSelector",s,!0),a.skinsMap.addBatch(i),s});
//# sourceMappingURL=languageSelector.min.js.map