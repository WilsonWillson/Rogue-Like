function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("stateManagement/store/connect",["lodash","react","reduxLibs","prop-types"],function(e,t,n,a){"use strict";return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.noop,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.noop,r=arguments[2];return function(i){var l=function(t,n){var a=n.dsRead;return function(n,r){var i=o(n,r,a),l=s(t,r);return e.assign({},i,l,r)}},c=function(e,a){return t.createElement(n.reactRedux.connectAdvanced(l,{methodName:"connect",shouldHandleStateChanges:r,dsRead:a.dsRead})(i),e)};return c.contextTypes={dsRead:a.object},c}}}),define("stateManagement/store/combineReducers",["lodash","wixImmutable"],function(e,t){"use strict";return function(n,a){return a?function(n){var a=function(e){return t.Iterable.isIterable(e)}(n)?n:t.Map(n),o=a.map(function(){});return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments[1],s=!1,r=t.map(function(t,o){var r=(a.get(o)||e.identity)(t,n);return r!==t&&(s=!0),r});return s?r:t}}(n):function(t){return function(n,a){var o=!1,s=e.mapValues(n,function(n,s){var r=(t[s]||e.identity)(n,a);return r!==n&&(o=!0),r});return o?s:n}}(n)}}),define("stateManagement/panels/panelsActionTypes",[],function(){"use strict";return{OPEN_PANEL:"openPanel",UPDATE_PANEL:"updatePanel",CLOSE_ALL_PANELS:"closeAllPanels",CLOSE_PANEL_BY_NAME:"closePanelByName",CLOSE_PANEL_BY_PROP:"closePanelByProp",STAGE_MOUSE_DOWN:"STAGE_MOUSE_DOWN",OPEN_HELP_CENTER:"openHelpCenter",CLOSE_HELP_CENTER:"closeHelpCenter"}}),define("stateManagement/panels/panelsReducer",["lodash","stateManagement/panels/panelsActionTypes","constants"],function(e,t,n){"use strict";var a=t.OPEN_PANEL,o=t.UPDATE_PANEL,s=t.CLOSE_ALL_PANELS,r=t.CLOSE_PANEL_BY_NAME,i=t.CLOSE_PANEL_BY_PROP,l=t.STAGE_MOUSE_DOWN,c=[n.PANEL_TYPES.LEFT,n.PANEL_TYPES.PAGES,n.PANEL_TYPES.TPA_SETTINGS];return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];switch(n.type){case a:return t.concat(n.panelDescriptor);case o:return e.map(t,function(t){return t.name===n.panelDescriptor.name?e.assign({},t,n.panelDescriptor,{props:e.assign({},t.props,n.panelDescriptor.props)}):t});case r:return e.reject(t,{name:n.panelName});case i:return e.reject(t,function(e){return e.props[n.prop]===n.propValue});case s:return t.length?[]:t;case l:return e.reject(t,function(t){return e.includes(c,t.frameType)});default:return t}}}),define("stateManagement/selection/selectionActionTypes",[],function(){"use strict";return{SELECT_COMPONENTS:"selectComponents",ADD_TO_SELECTION:"addToSelection",CLEAR_SELECTED_COMPONENTS:"clearSelectedComponents"}}),define("stateManagement/selection/selectionReducer",["lodash","coreUtilsLib","stateManagement/selection/selectionActionTypes"],function(e,t,n){"use strict";var a=n.SELECT_COMPONENTS,o=n.ADD_TO_SELECTION,s=n.CLEAR_SELECTED_COMPONENTS;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments[1];switch(r.type){case a:return e.isArray(r.compRefs)?r.compRefs:(t.log.error("selected comps must be an array"),n);case o:return e.isArray(r.compRefs)?n.concat(r.compRefs):(t.log.error("selected comps must be an array"),n);case s:return[];default:return n}}}),define("stateManagement/highlights/highlightsActionTypes",[],function(){"use strict";return{ADD_TO_HIGHLIGHTS:"addToHighlights",REMOVE_COMPS_FROM_HIGHLIGHTS:"removeCompsFromHighlights",SET_HIGHLIGHTS:"setHighlights",CLEAR_HIGHLIGHTS:"clearHighlights",REMOVE_FROM_HIGHLIGHTS_BY_HIGHLIGHT_TYPE:"removeFromHighlightsByHighlightType"}}),define("stateManagement/highlights/highlightsReducer",["lodash","coreUtilsLib","stateManagement/highlights/highlightsActionTypes"],function(e,t,n){"use strict";var a=n.ADD_TO_HIGHLIGHTS,o=n.REMOVE_COMPS_FROM_HIGHLIGHTS,s=n.SET_HIGHLIGHTS,r=n.CLEAR_HIGHLIGHTS,i=n.REMOVE_FROM_HIGHLIGHTS_BY_HIGHLIGHT_TYPE;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=arguments[1];switch(l.type){case a:return e.isArray(l.highlightsDefs)?n.concat(l.highlightsDefs):(t.log.error("highlights must be an array"),n);case o:return e.isArray(l.compRefs)?e.reject(n,function(t){return e.find(l.compRefs,t.compRef)}):(t.log.error("highlights must be an array"),n);case i:return e.isArray(l.highlightTypes)?e.reject(n,function(t){return e.includes(l.highlightTypes,t.type)}):(t.log.error("highlightTypes must be an array"),n);case s:return e.isArray(l.highlightsDefs)?l.highlightsDefs:(t.log.error("highlights must be an array"),n);case r:return[];default:return n}}}),define("stateManagement/pinMode/pinModeActionTypes",[],function(){"use strict";return{OPEN_PIN_MODE:"openPinMode",CLOSE_PIN_MODE:"closePinMode",SHOW_PIN_PREVIEW_RECT:"showPinPreviewRect",HIDE_COMPONENT_PREVIEW_RECT:"hideComponentPreviewRect"}}),define("stateManagement/pinMode/pinModeReducer",["lodash","stateManagement/pinMode/pinModeActionTypes"],function(e,t){"use strict";return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1];switch(a.type){case t.OPEN_PIN_MODE:return e.defaults({isOpen:!0},n);case t.CLOSE_PIN_MODE:return e.defaults({isOpen:!1},n);case t.SHOW_PIN_PREVIEW_RECT:return e.defaults({pinPreviewRectStyle:a.style},n);case t.HIDE_COMPONENT_PREVIEW_RECT:var o=e.defaults({opacity:0},n.pinPreviewRectStyle);return e.defaults({pinPreviewRectStyle:o},n);default:return n}}}),define("stateManagement/contextMenu/contextMenuActionTypes",[],function(){"use strict";return{OPEN_CONTEXT_MENU:"openContextMenu"}}),define("stateManagement/contextMenu/contextMenuReducer",["lodash","stateManagement/pinMode/pinModeActionTypes","stateManagement/contextMenu/contextMenuActionTypes"],function(e,t,n){"use strict";return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments[1];switch(o.type){case n.OPEN_CONTEXT_MENU:return e.defaults({editorMousePosition:{x:o.editorPositionX,y:o.editorPositionY},viewerPosition:{x:o.viewerPositionX,y:o.viewerPositionY}},a);case t.OPEN_PIN_MODE:return null;default:return a}}}),define("stateManagement/panels/helpPropsReducer",["lodash","stateManagement/panels/panelsActionTypes"],function(e,t){"use strict";var n=t.OPEN_HELP_CENTER,a=t.CLOSE_HELP_CENTER;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case n:return t.helpPanelProps;case a:return null;default:return e}}}),define("stateManagement/legacy/legacyActionTypes",[],function(){"use strict";return{SET_STATE:"set-state"}}),define("stateManagement/legacy/setStateReducer",["lodash","stateManagement/legacy/legacyActionTypes"],function(e,t){"use strict";var n=t.SET_STATE,a=e.assign;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case n:return a({},e,t.state);default:return e}}}),define("stateManagement/legacy/legacyReducer",["lodash","stateManagement/legacy/setStateReducer"],function(e,t){"use strict";return function(e){return function(n,a){var o=t(n,a);return e(o,a)}}}),define("stateManagement/devMode/devModeActionTypes",[],function(){"use strict";return{RESET_CONTEXT:"resetContext"}}),define("stateManagement/devMode/devModeReducer",["lodash","core","stateManagement/devMode/devModeActionTypes"],function(e,t,n){"use strict";var a={type:t.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,data:void 0},o=n.RESET_CONTEXT;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;switch(arguments[1].type){case o:return a;default:return e}}}),define("stateManagement/store/initialEditorState",["core","baseUI"],function(e,t){"use strict";var n=e.constants,a=t.uiConstants;return{editorIsInit:!1,config:{topBarHeight:a.TOPBAR_HEIGHT,previewHeight:null,previewWidth:null,languages:["latin"],extraSiteHeight:40},navControlsSize:null,previewPosition:{top:a.TOPBAR_HEIGHT,left:0,height:0,width:0},editingAreaPosition:{top:0,left:0,height:0,width:0,right:0,bottom:0},wixCodeLoaded:!1,devModeContext:{type:n.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,data:void 0},contextMenu:null,performingMouseMoveAction:!1,selectedComponents:[],selection:{compRestrictions:{}},stage:{highlights:[]},focusedContainer:null,lastSelectionClickPos:null,previewMode:!1,isMobileEditor:!1,isLayoutTractorOpen:!1,snapData:null,lassoLayout:null,candidates:null,clipboard:{},site:{premiumPackage:void 0},topBar:{modeSwitchAnimationProgress:e.constants.TOP_BAR.EDITOR_MODE_SWITCH.ANIMATION_PROGRESS.IDLE,openedDropPanel:null,dropPanelDisabled:!1,shouldDropPanelRemainOpen:!1},viewTools:{toolbarEnabled:void 0,developerToolBarEnabled:void 0,platformToolBarEnabled:void 0,guidelinesEnabled:void 0,sectionsHandlesEnabled:void 0,snapToEnabled:void 0,rulersEnabled:void 0,rulers:{guidesState:void 0,selectedGuide:void 0,isHovered:void 0,isDragging:null}},hasDatabaseCollections:null,platformToolBarPanelProps:void 0,helpProps:null,attachCandidate:null,constraintArea:null,openPanels:[],previewingStatus:n.PROGRESS_STATUS.IDLE,savingStatus:n.PROGRESS_STATUS.IDLE,publishingStatus:n.PROGRESS_STATUS.IDLE,savePublish:{isSaveInProgress:!1,isPublishInProgress:!1,isDiffSaveInProgress:!1,publishPanelPromotionIndex:0},sitePremiumState:null,portalComps:{},mobile:{isHiddenItemsCounterVisible:!0,reAddedHiddenElement:{compRef:null,addingPhase:n.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IDLE}},applyModeFromClipboardSuggestion:null,leftBar:{isCollapsed:!1,isMobileCollapsed:!1,notifications:{},superApps:{desktop:[],mobile:[]},buttonsBoundingRect:{}},topBarPagesFilter:"",topBarCustomization:{tooltipOverrides:{UNDO:null,SAVE:null}},pageSections:{sections:null,selectedSection:null},siteScale:1,pinMode:{isOpen:!1,pinPreviewRectStyle:{opacity:0}},hideTools:!1,hideToolsAndMaintainStagePosition:!1,shouldHideToolsBtnBlink:!1,halfOpacityTools:!1,unreadComments:0,isOpenTextEditor:!1,imageCrop:{isOn:!1,cropArea:null,cropOriginArea:null},shouldOverlayUpdate:!0,tabIndicationState:{indication:"INACTIVE",activeMode:void 0},isTooltipsDisabled:!1,floatingBubble:{value:null,targetLayout:null,bubbleProps:{},shouldNotHideOnMouseLeaveTarget:!1},tpa:{appsIdsToRefreshOnDashboardClose:[]},scrollTo:null,animateScrollTo:null,eventCounters:{focus:0,clearTextSelection:0,forceOpenPagesQuickNavigation:0,forcePageSettingsTab:0},viewerRendersCounter:0,__renderCounter:0}}),define("stateManagement/store/stateFreezer",["util"],function(e){"use strict";var t=e.deepFreeze;return function(e){return function(n,a){return t(e(n,a))}}}),define("stateManagement/legacy/editorAPIMiddleware",["constants"],function(e){"use strict";return{createEditorAPIMiddleware:function(t){return function(){return function(n){return function(a){return"object"===(void 0===a?"undefined":_typeof(a))&&!0===a[e.EDITOR_API_ACTION]?a.editorThunkAction(t()):n(a)}}}},createEditorAPIAction:function(t){var n;return n={},_defineProperty(n,e.EDITOR_API_ACTION,!0),_defineProperty(n,"editorThunkAction",t),n}}}),define("stateManagement/leftBar/leftBarActionTypes",[],function(){"use strict";return{COLLAPSE_DESKTOP_MENU:"collapse-desktop-menu",COLLAPSE_MOBILE_MENU:"collapse-mobile-menu",EXPAND_BUTTON:"expand-button",COLLAPSE_BUTTON:"collapse-button",UPDATE_BUTTONS_BOUNDING_RECT:"update-buttons-bounding-rect",SET_NOTIFICATION_COUNT:"set-notification-count",INCREASE_NOTIFICATION_COUNT:"increase-notification-count",DECREASE_NOTIFICATION_COUNT:"decrease-notification-count"}}),define("stateManagement/leftBar/leftBarReducer",["lodash","stateManagement/leftBar/leftBarActionTypes"],function(e,t){"use strict";var n=t.COLLAPSE_DESKTOP_MENU,a=t.COLLAPSE_MOBILE_MENU,o=t.EXPAND_BUTTON,s=t.COLLAPSE_BUTTON,r=t.UPDATE_BUTTONS_BOUNDING_RECT,i=t.SET_NOTIFICATION_COUNT,l=t.INCREASE_NOTIFICATION_COUNT,c=t.DECREASE_NOTIFICATION_COUNT;return function(t,u){switch(u.type){case n:return e.assign({},t,{isCollapsed:!0});case a:return e.assign({},t,{isMobileCollapsed:!0});case o:return e.assign({},t,{collapseOnClick:e.union(t.collapseOnClick,[u.panelName])});case s:return e.assign({},t,{collapseOnClick:e.without(t.collapseOnClick,u.panelName)});case r:var p=["left","right","top","bottom"],d=e.pick(t.buttonsBoundingRect,p),g=e.pick(u.boundingRect,p);return e.isEqual(d,g)?t:e.assign({},t,{buttonsBoundingRect:g});case i:return e.assign({},t,{notifications:e.assign({},t.notifications,_defineProperty({},u.panelName,u.count))});case l:return e.assign({},t,{notifications:e.assign({},t.notifications,_defineProperty({},u.panelName,t.notifications[u.panelName]+(u.count||1)))});case c:return e.assign({},t,{notifications:e.assign({},t.notifications,_defineProperty({},u.panelName,t.notifications[u.panelName]-(u.count||1)))});default:return t}}}),define("stateManagement/tpa/tpaActionTypes",[],function(){"use strict";return{ADD_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE:"ADD_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE",SET_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE:"SET_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE"}}),define("stateManagement/tpa/tpaReducer",["lodash","coreUtilsLib","stateManagement/tpa/tpaActionTypes"],function(e,t,n){"use strict";var a=n.ADD_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE,o=n.SET_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE,s=function(e){return!r(e)},r=function(t){return e.isArray(t)&&t.every(function(t){return e.isNumber(t)&&t>0||e.isNumber(parseInt(t,10))&&parseInt(t,10)>0})};return function(n,r){switch(e.isNil(n)&&(n={appsIdsToRefreshOnDashboardClose:[]}),r.type){case a:if(s(r.appIds))return t.log.error("appIds must be an array of numbers"),n;var i=n.appsIdsToRefreshOnDashboardClose,l=[].concat(i).concat(r.appIds);return e.assign({},n,{appsIdsToRefreshOnDashboardClose:l});case o:return s(r.appIds)?(t.log.error("appIds must be an array of numbers"),n):e.assign({},n,{appsIdsToRefreshOnDashboardClose:r.appIds});default:return n}}}),define("stateManagement/store/createEditorStore",["lodash","reduxLibs","util","stateManagement/store/combineReducers","stateManagement/panels/panelsReducer","stateManagement/selection/selectionReducer","stateManagement/highlights/highlightsReducer","stateManagement/pinMode/pinModeReducer","stateManagement/contextMenu/contextMenuReducer","stateManagement/panels/helpPropsReducer","stateManagement/legacy/legacyReducer","stateManagement/devMode/devModeReducer","stateManagement/store/initialEditorState","stateManagement/store/stateFreezer","stateManagement/legacy/editorAPIMiddleware","stateManagement/leftBar/leftBarReducer","stateManagement/tpa/tpaReducer"],function(e,t,n,a,o,s,r,i,l,c,u,p,d,g,f,m,P){"use strict";var E=t.redux,M=t.reduxThunk;return function(e,t,_){var h=u(a({openPanels:o,helpProps:c,devModeContext:p,stage:a({highlights:r}),contextMenu:l,pinMode:i,selectedComponents:s,leftBar:m,tpa:P})),T=t?g(h):h,O=f.createEditorAPIMiddleware(e),S=M.withExtraArgument(_),A=n.url.getParameterByName("debug")&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:E.compose;return E.createStore(T,d,A(E.applyMiddleware(O,S)))}}),define("stateManagement/store/throttledStore",["lodash"],function(e){"use strict";var t=function(e){return e()};return function(n,a){function o(){i=!1,e.forEach(e.clone(r),t)}function s(){n(s),i&&o()}var r=[],i=!1;return a.subscribe(function(){i=!0}),n(s),{subscribe:function(t){return r.push(t),function(){r=e.without(r,t)}},dispatchImmediate:function(e){a.dispatch(e),o()},dispatch:a.dispatch,getState:a.getState}}}),define("stateManagement/legacy/setStateAction",["stateManagement/legacy/legacyActionTypes"],function(e){"use strict";var t=e.SET_STATE;return function(e){return{type:t,state:e}}}),define("stateManagement/store/dsPaths.json",[],function(){return{read:["errors","generalInfo.getSiteId","generalInfo.getUserInfo","generalInfo.urlFormat.isSlash","generalInfo.isHttpsEnabled","generalInfo.getPublicUrl","pages.getReference","pages.getFocusedPageId","pages.getPrimaryPageId","components.isDescendantOfComp","components.getPage","components.data.get","components.getContainer","components.getAncestors","components.design.get","components.properties.get","components.getType","components.layout.getSnugLayout","components.layout.getSnugLayoutRelativeToScreen","components.layout.getSnugLayoutRelativeToScreenConsideringScroll","components.layout.getSnugLayoutRelativeToStructure","components.layout.canBeFixedPosition","components.layout.get","components.layout.getDock","components.layout.getRelativeToScreen","components.layout.isHorizontallyStretched","components.layout.isHorizontallyStretchedToScreen","components.is.horizontallyMovable","tpa.app.getDataByAppDefId"],write:["waitForChangesApplied","components.setContainer","components.reparentComponentToPage","components.multiComponents.distribute","components.multiComponents.matchSize","bi.event","renderPlugins.setCompsToShowOnTop","renderPlugins.setBlockingLayer"]}}),define("stateManagement/legacy/legacyLogic",["lodash","stateManagement/store/dsPaths.json"],function(e,t){"use strict";return{loadDocumentServices:function(n){return function(a,o,s){var r=e.pick(n,t.read),i=e.pick(n,t.write);e.assign(s,{dsRead:r,dsWrite:i})}}}}),define("stateManagement/legacy/legacy",["stateManagement/legacy/legacyReducer","stateManagement/legacy/setStateAction","stateManagement/legacy/legacyLogic"],function(e,t,n){"use strict";return{reducer:e,setState:t,logic:n}}),define("stateManagement/panels/panelsActions",["stateManagement/panels/panelsActionTypes"],function(e){"use strict";var t=e.OPEN_PANEL,n=e.UPDATE_PANEL,a=e.CLOSE_ALL_PANELS,o=e.CLOSE_PANEL_BY_NAME,s=e.CLOSE_PANEL_BY_PROP,r=e.STAGE_MOUSE_DOWN,i=e.OPEN_HELP_CENTER,l=e.CLOSE_HELP_CENTER;return{openPanel:function(e){return{type:t,panelDescriptor:e}},updatePanel:function(e){return{type:n,panelDescriptor:e}},closeAllPanels:function(){return{type:a}},closePanelByName:function(e){return{type:o,panelName:e}},closePanelByPropKey:function(e,t){return{type:s,prop:e,propValue:t}},stageMouseDown:function(){return{type:r}},setPanelType:function(e,t,a){return{type:n,panelDescriptor:{name:e,frameType:t,singleInstance:a}}},openHelpCenter:function(e){return{type:i,helpPanelProps:e}},closeHelpCenter:function(){return{type:l}}}}),define("stateManagement/panels/panelsSelectors",["lodash","reduxLibs"],function(e,t){"use strict";var n=function(e){return e.openPanels};return{selectOpenPanels:n,selectOpenPlatformPanels:t.reselect.createSelector(n,function(t){return e.filter(t,{type:"platform"})}),selectHelpProps:function(e){return e.helpProps},isColorPickerClosed:t.reselect.createSelector(n,function(t){return-1===e.findIndex(t,{name:"panels.toolPanels.colorPicker.colorPickerPanel"})}),isLinkDialogClosed:t.reselect.createSelector(n,function(t){return-1===e.findIndex(t,{name:"panels.toolPanels.linkPanel"})})}}),define("stateManagement/devMode/devModeSelectors",[],function(){"use strict";return{selectDevModeContext:function(e){return e.devModeContext}}}),define("stateManagement/devMode/devModeActions",["stateManagement/devMode/devModeActionTypes"],function(e){"use strict";var t=e.RESET_CONTEXT;return{resetDevModeContext:function(){return{type:t}}}}),define("stateManagement/bi/bi",["lodash","util","experiment"],function(e,t,n){"use strict";return{event:function(a,o){return function(s,r,i){var l=i.dsWrite;if(l){a=e.defaults({},a,{src:38,endpoint:"editor",sampleRatio:0,esi:t.editorModel.editorSessionId}),o=[].concat(o)||[{}];var c=t.editorModel.permissionsInfo;if(c){var u=c.ownerId,p=e.map(c.loggedInUserRoles,"role").join(",");o=e.map(o,function(t){return e.assign({},t,{ownerId:u,roles:p})})}n.isMultiValueExperimentOpen("editorHintsConfigs")&&require.defined("editorHints")&&require("editorHints").manager.handleBiEvent(a,o),e.forEach(o,function(e){l.bi.event(a,e)})}}}}}),define("stateManagement/panels/panelsLogic",["lodash","util","stateManagement/panels/panelsSelectors","stateManagement/devMode/devModeSelectors","stateManagement/panels/panelsActions","stateManagement/devMode/devModeActions","stateManagement/bi/bi","coreUtilsLib","constants","core"],function(e,t,n,a,o,s,r,i,l,c){"use strict";function u(t,n){return e.defaults({},n,{panelName:t,key:t+e.uniqueId()})}function p(t,n){t&&e.isFunction(t.resolve)&&t.resolve(n)}var d=a.selectDevModeContext,g=n.selectOpenPanels,f=n.selectOpenPlatformPanels,m=function(t){return function(n,a){var o=a(),r=g(o),i=e.difference(t,r),l=e.filter(i,{name:"platformPanels.fullStagePanel"});e.isEmpty(l)||d(o).type!==c.constants.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION||n(s.resetDevModeContext())}},P=function(t,n,a){return function(s,r){a||s(M()),e.includes(t,"help")&&i.log.error("openPanel method is deprecated for help panels. Use openHelpCenter instead");var l=g(r()),c=e.find(l,{name:t});s(c&&c.singleInstance?o.updatePanel({name:t,props:n}):E(t,n))}},E=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){var s={name:t,props:u(t,n)};e.get(n,"token")&&e.assign(s,{token:e.get(n,"token")}),a(o.openPanel(s)),a(r.event(c.bi.events.panels.PANEL_OPENED,{panel_name:t}))}},M=function(){return function(t,n){var a=n(),s=g(a);e.forEach(s,function(e){t(r.event(c.bi.events.panels.PANEL_CLOSED,{panel_name:e.name}))}),function(t){e.forEach(t,function(e){p(e)})}(f(a)),t(o.closeAllPanels()),t(m(s))}},_=function(t,n){return function(a,s){var i=s(),l=g(i);e(i).thru(f).filter(function(e){return e.props[t]===n}).forEach(function(e){p(e)}),a(o.closePanelByPropKey(t,n));var u=g(s()),d=e.difference(l,u);e.forEach(d,function(e){a(r.event(c.bi.events.panels.PANEL_CLOSED,{panel_name:e.props.panelName}))}),a(m(l))}},h=function(e){return function(t){t(_("panelName",e))}},T=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){a(M());var s={name:t,props:e.assign({},u(t,n),{useLastPanelPosition:!!n.useLastPanelPosition}),frameType:l.PANEL_TYPES.COMP};a(o.openPanel(s)),a(r.event(c.bi.events.panels.PANEL_OPENED,{panel_name:t}))}};return{updateOrOpenPanel:P,openComponentPanel:T,openPlatformPanel:function(t){return function(n){var a=e.assign({name:t.panelName,props:u(t.panelName,t.panelProps),type:l.PANEL_TYPES.PLATFORM,token:t.panelProps.token},e.get(t,"panelMetaData",{}));n(P(a.name,a.props,!a.closeAllOtherPanels)),n(o.updatePanel(a))}},closeOpenedPanels:M,closePanelByPropKey:_,closePanelByName:h,openHelpCenter:function(n,a,s){return function(i){var u=[],p=function(){var n=t.editorModel.permissionsInfo;return n?"ownerId="+n.ownerId+"&roles="+e.map(n.loggedInUserRoles,"role").join(","):""}();p&&u.push(p),s&&s.component&&u.push("selectedCompType="+s.component);var d=n||l.GENERAL_HELP_KEY,g=u.length?d+"?"+u.join("&"):d,f=e.assign({},a,{helpUrl:g,biHelpParams:s,panelName:"panels.helpPanels.helpPanel"});i(o.openHelpCenter(f));var m=e.assign({learn_more:!1},s);i(r.event(c.bi.events.help.HELP_CLICK,m))}},closeAllPanelsOfType:function(t){return function(n,a){var o=g(a());e(o).filter({frameType:t}).map("name").map(h).forEach(n)}},closePlatformPanel:function(t,n){return function(a,o){var s=g(o()),r=e.find(s,{token:t});r&&(p(r,n),a(h(r.name)))}},openFirstTimePanel:function(t){return function(n){if(e.includes(l.FIRST_TIME_PANEL_COMPONENTS,t)){var a="compPanels.panels."+t+".firstTime";n(T(a,{panelName:a,title:"firstTime"}))}}},updatePanel:function(e,t){return function(n){n(o.updatePanel({name:e,props:t}))}}}}),define("stateManagement/panels/panels",["stateManagement/panels/panelsActions","stateManagement/panels/panelsLogic","stateManagement/panels/panelsReducer","stateManagement/panels/helpPropsReducer","stateManagement/panels/panelsSelectors"],function(e,t,n,a,o){"use strict";return{actions:e,logic:t,reducer:n,helpPropsReducer:a,selectors:o}}),define("stateManagement/leftBar/leftBarActions",["stateManagement/leftBar/leftBarActionTypes"],function(e){"use strict";return{collapseDesktopMenu:function(){return{type:e.COLLAPSE_DESKTOP_MENU}},collapseMobileMenu:function(){return{type:e.COLLAPSE_MOBILE_MENU}},expandButton:function(t){return{type:e.EXPAND_BUTTON,panelName:t}},collapseButton:function(t){return{type:e.COLLAPSE_BUTTON,panelName:t}},updateButtonsBoundingRect:function(t){return{type:e.UPDATE_BUTTONS_BOUNDING_RECT,boundingRect:t}},setNotificationsCount:function(t,n){return{type:e.SET_NOTIFICATION_COUNT,panelName:t,count:n}},increaseNotificationsCount:function(t,n){return{type:e.INCREASE_NOTIFICATION_COUNT,panelName:t,count:n}},decreaseNotificationsCount:function(t,n){return{type:e.DECREASE_NOTIFICATION_COUNT,panelName:t,count:n}}}}),define("stateManagement/leftBar/leftBarData",["util","core","constants","experiment"],function(e,t,n,a){"use strict";return{desktop:function(){var o=[{panelName:"addPanelInfra.addPanel",panelProps:{},label:"LEFTBAR_ADD_LABEL",className:"add-panel",symbolName:"leftBarAddPanel",hintProps:{id:"AddPanel"}},{panelName:"tpa.compPanels.appMarketPanel",panelProps:{urlParams:{openMarketOrigin:"market_button"},openPanelBiEvent:e.bi.events.OPEN_MARKET_CLICK,openPanelBiParams:{referral_info:"market_button"}},label:"app_market_button_text",className:"app-market-panel",symbolName:"leftBarAppMarketPanel",hintProps:{id:"AppMarket"}},{panelName:"rEditor.panels.myMediaPanel",panelProps:{},label:"LEFTBAR_MY_UPLOADS_LABEL",className:"my-uploads-panel",symbolName:"leftBarMyUploadsPanel"}];a.isOpen("ChangeBG")||(o=[{panelName:"rEditor.panels.backgroundPanel",panelProps:{},label:n.ROOT_COMPS.LEFTBAR.BACKGROUND_LABEL,className:"bg-panel",symbolName:"leftBarBackgroundPanel",hintProps:{id:"ChangeBackgrounds"}}].concat(o));a.isOpen("newPagesPanel")&&(o=[{panelName:"pages.pagesPanel",panelProps:{openPanelBiEvent:t.bi.events.pages.click_on_pages_panel_open,openPanelBiParams:{origin:"left_bar"}},label:"LEFTBAR_PAGES_LABEL",className:"pages-panel-pp",symbolName:"leftBarPagesPanelManager"}].concat(o));a.isOpen("us_addPages_leftBar")&&(o=[{panelName:"rEditor.panels.pagesAndPopupsPanel",panelProps:{},label:"Pages_Menu_Title_Title",className:"bg-panel",symbolName:"leftBarPagesPanel",hintProps:{id:"PagesPanel"}}].concat(o));return o}(),mobile:function(){var e=[];a.isOpen("newPagesPanel")&&e.push({panelName:"pages.pagesPanel",panelProps:{},label:"LEFTBAR_PAGES_LABEL",className:"pages-panel-pp",symbolName:"leftBarPagesPanelManager"});var t={panelName:"rEditor.panels.backgroundPanel",panelProps:{},label:n.ROOT_COMPS.LEFTBAR.BACKGROUND_LABEL,className:"bg-panel",symbolName:"leftBarBackgroundPanel",hintProps:{id:"ChangeBackgrounds"}},o={panelName:"mobileEditor.mobileElementsPanel",panelProps:{},label:"mobile_features_section_title_mobile_tools",className:"mobile-elements-panel",symbolName:"mobileView",tooltips:[{id:"mobileElementsPanel_quickActionBar_afterRemove",value:"mobile_quick_actions_hide_tooltip",width:"240px"}]};return a.isOpen("changeBG")?e.push(o,t):e.push(t,o),e=e.concat([{panelName:"mobileEditor.hiddenItemsPanel",panelProps:{},label:"mobile_hidden_items_panel_title",className:"hidden-items-panel",symbolName:"hiddenComp",hintProps:{id:"MobileEditorHiddenElements"}},{panelName:"mobileEditor.layoutOptimizerPanel",panelProps:{},label:"mobile_layoutoptimizer_title",className:"layout-optimizer-panel",symbolName:"mobile_left_bar_optimize_layout",hintProps:{id:"MobileLayoutOptimizer"}}])}(),myUploadsButton:{panelName:"rEditor.panels.myMediaPanel",panelProps:{},label:"LEFTBAR_MY_UPLOADS_LABEL",className:"my-uploads-panel",symbolName:"leftBarMyUploadsPanel"}}}),define("stateManagement/leftBar/leftBarSelectors",["lodash","reduxLibs","coreUtilsLib","stateManagement/leftBar/leftBarData","constants","experiment"],function(e,t,n,a,o,s){"use strict";var r=t.reselect.createSelector,i=function(e){return e.leftBar},l=function(e){return e.isMobileEditor},c=r(i,l,function(t,n){return e.get(t,n&&s.isOpen("se_mobileLeftBarNotCollapsed")?"isMobileCollapsed":"isCollapsed")}),u=r(i,function(e){return e.collapseOnClick});return{getLeftBar:i,isCollapsed:c,getCollapseOnClick:u,isMobileEditor:l,getDesktopSuperAppsCount:function(e){return e.leftBar.superApps.desktop.length},getMenuItems:function(t,r){var i=[],l=t.leftBar.superApps,c=[];return s.isOpen("enableMyUploadsButton")&&c.push(a.myUploadsButton),i=t.isMobileEditor?e.map(a.mobile,e.clone).concat(c,e.sortBy(n.objectUtils.cloneDeep(l.mobile),"order")):e.map(a.desktop,e.clone).concat(c,e.sortBy(n.objectUtils.cloneDeep(l.desktop),"order")),(i=r?function(t){var n=[o.ROOT_COMPS.LEFTBAR.BLOG_PANEL_NAME,o.ROOT_COMPS.LEFTBAR.BACKGROUND_PANEL_NAME];return e.filter(t,function(t){return!e.includes(n,t.panelName)})}(i):i).forEach(function(n,a){n.panelProps=n.panelProps||{},n.panelProps.panelIndex=a,n.collapseOnClick=function(t,n){return e.includes(t||[],n)}(u(t),n.panelName)}),e.compact(i).map(function(e){if("tpa.compPanels.appMarketPanel"===e.panelName){switch((s.getValue("se_appMarketIcons")||"old").toLowerCase()){case"icon1":e.symbolName="leftBarAppMarketPanel-B";break;case"icon2":e.symbolName="leftBarAppMarketPanel-C";break;case"icon3":e.symbolName="leftBarAppMarketPanel-D"}switch((s.getValue("se_appMarketLabels")||"old").toLowerCase()){case"add_apps":e.label="app_market_button_text_experiment_add_apps";break;case"get_apps":e.label="app_market_button_text_experiment_get_apps"}}return e})},getNotifications:function(e){return e.leftBar.notifications},getNotificationsCount:function(e,t){return e.leftBar.notifications[t]}}}),define("stateManagement/userPreferences/userPreferences",["stateManagement/legacy/editorAPIMiddleware"],function(e){"use strict";var t=e.createEditorAPIAction;return{logic:{setSiteUserPreference:function(e,n){return t(function(t){return t.getUserPreferences().site.set(e,n)})}}}}),define("stateManagement/leftBar/leftBarLogic",["lodash","core","experiment","stateManagement/leftBar/leftBarActions","stateManagement/leftBar/leftBarSelectors","stateManagement/userPreferences/userPreferences","stateManagement/panels/panelsActions","stateManagement/panels/panelsLogic","stateManagement/legacy/editorAPIMiddleware","stateManagement/bi/bi"],function(e,t,n,a,o,s,r,i,l,c){"use strict";var u=c.event,p=l.createEditorAPIAction,d=function(){return function(e,t){e(o.isMobileEditor(t())&&n.isOpen("se_mobileLeftBarNotCollapsed")?a.collapseMobileMenu():a.collapseDesktopMenu())}};return{collapseMenu:d,collapseButton:function(e){return function(n){n(a.collapseButton(e)),n(s.logic.setSiteUserPreference(e+t.constants.LEFT_BAR.WAS_BUTTON_CLICKED_KEY,!0))}},openAddPanel:function(){return function(e){e(d()),e(i.updateOrOpenPanel("addPanelInfra.addPanel"))}},sendBIButtonsCount:function(n){return function(a,s,r){var i=r.dsRead,l=o.getMenuItems(s(),n),c=i&&i.generalInfo.getSiteId();if(c){var p=e.map(l,"panelName"),d={count:l.length,site_id:c,shoutout_bool:e.includes(p,t.constants.SUPER_APPS.SHOUTOUT_PANEL_NAME),blog_bool:e.includes(p,t.constants.SUPER_APPS.BLOG_PANEL_NAME),booking_bool:e.includes(p,t.constants.SUPER_APPS.BOOKINGS_PANEL_NAME),ecomm_bool:e.includes(p,t.constants.SUPER_APPS.WIX_STORE_PANEL_NAME),rest_bool:!1};a(u(t.bi.events.leftBar.LEFT_BAR_NUMBER_OF_BUTTONS,d))}}},addSuperAppsButton:function(n,o,s,r,i,l,c,u){return function(d,g){var f=function(n,a,o,s,r,i){return{panelName:n,panelProps:a,label:o,className:s,symbolName:r,order:e.indexOf(t.constants.LEFT_BAR.SUPER_APPS_ORDER.DESKTOP,n),isButtonOpen:i}}(n,o,s,r,i,u),m=e.cloneDeep(g().leftBar),P=[m.superApps.desktop];l&&P.push(m.superApps.mobile),P.forEach(function(t){var a=e.find(t,{panelName:n});a?e.assign(a,f):t.push(f)}),d(function(e,n,o){return p(function(s){return s.updateState({leftBar:e},function(){var e=s.getUserPreferences().site.get(n+t.constants.LEFT_BAR.WAS_BUTTON_CLICKED_KEY);o&&!e&&s.store.dispatch(a.expandButton(n))})})}(m,n,c))}},removeSuperAppsButton:function(t){return function(n,a){var o=a(),s=e.cloneDeep(o.leftBar);s.superApps.desktop=e.reject(o.leftBar.superApps.desktop,{panelName:t}),s.superApps.mobile=e.reject(o.leftBar.superApps.mobile,{panelName:t}),delete s.notifications[t],n(r.closePanelByName(t)),n(function(e){return p(function(t){return t.updateState({leftBar:e})})}(s))}}}}),define("stateManagement/leftBar/leftBar",["stateManagement/leftBar/leftBarLogic","stateManagement/leftBar/leftBarActions","stateManagement/leftBar/leftBarReducer","stateManagement/leftBar/leftBarSelectors","stateManagement/leftBar/leftBarData"],function(e,t,n,a,o){"use strict";return{logic:e,actions:t,reducer:n,selectors:a,leftBarData:o}}),define("stateManagement/selection/selectionSelectors",["lodash","constants"],function(e,t){"use strict";var n=function(e){return e.selectedComponents};return{getSelectedCompsRefs:n,getSelectedComponentType:function(a,o){var s=n(a);if(e.isEmpty(s))return null;if(s.length>1)return t.MULTISELECT.TYPE;return o.components.getType(e.head(s)).split(".").pop()},getSelectedCompRestrictions:function(e){return e.selection.compRestrictions}}}),define("stateManagement/selection/selectionActions",["stateManagement/selection/selectionActionTypes"],function(e){"use strict";var t=e.SELECT_COMPONENTS,n=e.ADD_TO_SELECTION,a=e.CLEAR_SELECTED_COMPONENTS;return{addToSelection:function(e){return{type:n,compRefs:e}},selectComponents:function(e){return{type:t,compRefs:e}},clearSelectedComponents:function(){return{type:a}}}}),define("stateManagement/selection/selection",["stateManagement/selection/selectionReducer","stateManagement/selection/selectionSelectors","stateManagement/selection/selectionActions"],function(e,t,n){"use strict";return{reducer:e,selectors:t,actions:n}}),define("stateManagement/domain/domainSelectors",["lodash","util"],function(e,t){"use strict";var n=function(e){return e.generalInfo.urlFormat.isSlash()?"wixsite.com":"wix.com"},a=function(e,t){return t.generalInfo.isHttpsEnabled()?"https":"http"};return{getSiteProtocol:a,isDomainConnected:function(t,a){var o=a.generalInfo.getPublicUrl();return!e.isNil(o)&&!e.includes(o,n(a))},getFreeDomainPrefix:function(e,t){return a(0,t)+"://"+t.generalInfo.getUserInfo().name+"."+n(t)+"/"},doesUserOwnGoogleDomain:function(){var e=t.cookie.getCookie("wixClient");return e.indexOf("GOOGLE_DOMAIN")>0||e.indexOf("REGRU")>0}}}),define("stateManagement/domain/domain",["stateManagement/domain/domainSelectors"],function(e){"use strict";return{selectors:e}}),define("stateManagement/highlights/highlightsActions",["stateManagement/highlights/highlightsActionTypes"],function(e){"use strict";var t=e.ADD_TO_HIGHLIGHTS,n=e.REMOVE_COMPS_FROM_HIGHLIGHTS,a=e.SET_HIGHLIGHTS,o=e.CLEAR_HIGHLIGHTS,s=e.REMOVE_FROM_HIGHLIGHTS_BY_HIGHLIGHT_TYPE;return{addToHighlights:function(e){return{type:t,highlightsDefs:e}},removeCompsFromHighlights:function(e){return{type:n,compRefs:e}},removeFromHighlightsByHighlightType:function(e){return{type:s,highlightTypes:e}},setHighlights:function(e){return{type:a,highlightsDefs:e}},clearHighlights:function(){return{type:o}}}}),define("stateManagement/highlights/highlightsSelectors",[],function(){"use strict";return{getHighlights:function(e){return e.stage.highlights}}}),define("stateManagement/stage/stageSelectors",[],function(){"use strict";return{isPerformingMouseMoveAction:function(e){return e.performingMouseMoveAction}}}),define("stateManagement/highlights/logic/repeaterHighlightsHelper",["lodash","uiConstants"],function(e,t){"use strict";return{getRepeaterItemHighlight:function(e,n,a){return{compRef:n,layout:e.components.layout.getRelativeToScreen(n),type:a?t.HIGHLIGHTS.TYPES.THICK_WITH_OPACITY:t.HIGHLIGHTS.TYPES.THICK}},getRepeaterManageItemsPanelHighlight:function(e,t,n){return{compRef:t,layout:e.components.layout.getRelativeToScreen(t),type:n}}}}),define("stateManagement/highlights/highlightsLogic",["lodash","uiConstants","stateManagement/highlights/highlightsActions","stateManagement/highlights/highlightsSelectors","stateManagement/selection/selectionSelectors","stateManagement/stage/stageSelectors","stateManagement/highlights/logic/repeaterHighlightsHelper"],function(e,t,n,a,o,s,r){"use strict";return{handleSelectionHighlights:function(){return function(a,s,i){var l=i.dsRead,c=[],u=o.getSelectedCompsRefs(s()),p=e.head(u);if(a(n.removeFromHighlightsByHighlightType([t.HIGHLIGHTS.TYPES.THICK_WITH_OPACITY,t.HIGHLIGHTS.TYPES.THICK])),p){if("wysiwyg.viewer.components.Repeater"===l.components.getType(l.components.getContainer(p)))return c.push(r.getRepeaterItemHighlight(l,p,!1)),void a(n.addToHighlights(c));var d=l.components.getAncestors(p),g=e.find(d,function(e){return"wysiwyg.viewer.components.Repeater"===l.components.getType(l.components.getContainer(e))});g&&(c.push(r.getRepeaterItemHighlight(l,g,!0)),a(n.addToHighlights(c)))}}},handleRepeaterManageItemsHighlights:function(e,a){return function(o,s,i){var l=i.dsRead,c=[],u=a?t.HIGHLIGHTS.TYPES.OVERLAY_WITH_OPACITY:t.HIGHLIGHTS.TYPES.OVERLAY;o(n.removeFromHighlightsByHighlightType([u])),c.push(r.getRepeaterManageItemsPanelHighlight(l,e,u)),o(n.addToHighlights(c))}},updateHighlights:function(){return function(t,o,r){var i=r.dsRead,l=o(),c=a.getHighlights(l);if(!e.isEmpty(c)&&!s.isPerformingMouseMoveAction(l)){var u=e.map(c,function(t){return e.defaults({layout:i.components.layout.getRelativeToScreen(t.compRef)},t)});t(n.setHighlights(u))}}}}}),define("stateManagement/highlights/highlights",["stateManagement/highlights/highlightsLogic","stateManagement/highlights/highlightsReducer","stateManagement/highlights/highlightsSelectors","stateManagement/highlights/highlightsActions"],function(e,t,n,a){"use strict";return{logic:e,reducer:t,selectors:n,actions:a}}),define("stateManagement/tpa/tpaActions",["lodash","stateManagement/tpa/tpaActionTypes"],function(e,t){"use strict";var n=t.ADD_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE,a=t.SET_APP_IDS_TO_REFRESH_ON_DASHBOARD_CLOSE;return{addAppIdsToRefreshOnDashboardClose:function(e){return{type:n,appIds:e}},setAppIdsToRefreshOnDashboardClose:function(e){return{type:a,appIds:e}}}}),define("stateManagement/tpa/tpaLogic",["lodash","stateManagement/tpa/tpaActions"],function(e,t){"use strict";var n=function(t){return e.map(t,a)},a=function(e){return parseInt(e,10)};return{addAppDefIdsToRefreshOnDashboardClose:function(a){return function(o,s,r){var i=r.dsRead,l=e(a).map(i.tpa.app.getDataByAppDefId).map("applicationId").value();o(t.addAppIdsToRefreshOnDashboardClose(n(l)))}},setAppDefIdsToRefreshOnDashboardClose:function(a){return function(o,s,r){var i=r.dsRead,l=e(a).map(i.tpa.app.getDataByAppDefId).map("applicationId").value();o(t.setAppIdsToRefreshOnDashboardClose(n(l)))}}}}),define("stateManagement/tpa/tpaSelectors",[],function(){"use strict";return{getAppIdsToRefreshAfterDashboardClose:function(e){return e.tpa.appsIdsToRefreshOnDashboardClose}}}),define("stateManagement/tpa/tpa",["stateManagement/tpa/tpaLogic","stateManagement/tpa/tpaSelectors"],function(e,t){"use strict";return{logic:e,selectors:t}}),define("stateManagement/stage/stage",["stateManagement/stage/stageSelectors"],function(e){"use strict";return{selectors:e}}),define("stateManagement/componentMetaData/componentMetaData",["lodash","experiment"],function(e,t){"use strict";var n=e.curryRight(e.every),a=function(t){return function(n,a){return e.every(n,function(e){return t(e,a)})}},o=function(t){return!e.isUndefined(t.docked)&&t.fixedPosition},s=function(e,t){var n=t.components.layout.get(e);return n.docked=t.components.layout.getDock(e),o(n)};return{isHorizontallyMovable:a(function(e,n){return t.isOpen("layoutTractor")?n.components.is.horizontallyMovable(e)&&!s(e,n)&&!n.components.layout.isHorizontallyStretched(e):n.components.is.horizontallyMovable(e)&&!s(e,n)&&!n.components.layout.isHorizontallyStretchedToScreen(e)}),isPinnedBySerializedLayout:n(o),isPinned:a(s)}}),define("stateManagement/applyModeFromClipboard/applyModeFromClipboardSelectors",[],function(){"use strict";return{selectApplyModeFromClipboardSuggestion:function(e){return e.applyModeFromClipboardSuggestion}}}),define("stateManagement/applyModeFromClipboard/applyModeFromClipboard",["stateManagement/applyModeFromClipboard/applyModeFromClipboardSelectors"],function(e){"use strict";return{selectors:e}}),define("stateManagement/pinMode/pinModeActions",["stateManagement/pinMode/pinModeActionTypes"],function(e){"use strict";return{openPinMode:function(){return{type:e.OPEN_PIN_MODE}},closePinMode:function(){return{type:e.CLOSE_PIN_MODE}},showPinPreviewRect:function(t){return{type:e.SHOW_PIN_PREVIEW_RECT,style:t}},hidePinPreviewRect:function(){return{type:e.HIDE_COMPONENT_PREVIEW_RECT}}}}),define("stateManagement/pinMode/pinModeSelectors",[],function(){"use strict";return{isOpen:function(e){return e.pinMode.isOpen},getPinnedCompType:function(e){return e.pinMode.pinnedCompType},getPinPreviewRectStyle:function(e){return e.pinMode.pinPreviewRectStyle}}}),define("stateManagement/pinMode/pinModeLogic",["lodash","constants","baseUI","stateManagement/panels/panelsLogic","stateManagement/pinMode/pinModeActions","stateManagement/pinMode/pinModeSelectors","stateManagement/selection/selectionSelectors"],function(e,t,n,a,o,s,r){"use strict";var i={default:"compPanels.dynamicPanels.pinnedDockPanel",PopupContainer:t.COMP_PANELS.POPUP.CONTAINER.POPUP_GRID_LAYOUT_PANEL.NAME},l=t.EDITOR_API.BLOCKING_LAYER_STYLE,c=function(e){return i[e]||i.default};return{open:function(s,i){return function(u,p,d){var g=d.dsRead,f=p(),m=r.getSelectedComponentType(f,g);n.tooltipManager.hide(t.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE);var P=e.assign({origin:s,selectedComponents:r.getSelectedCompsRefs(f)},i);u(a.openComponentPanel(c(m),P)),u(function(t,n,a){var o=a.dsWrite,s=n();o.renderPlugins.setCompsToShowOnTop(e.map(r.getSelectedCompsRefs(s),"id")),o.renderPlugins.setBlockingLayer(l)}),u(o.openPinMode())}},close:function(){return function(e,t){var n=t();if(s.isOpen(n)){var r=s.getPinnedCompType(n);e(a.closePanelByName(c(r))),e(o.hidePinPreviewRect()),e(function(e,t,n){var a=n.dsWrite;a.renderPlugins.setCompsToShowOnTop(null),a.renderPlugins.setBlockingLayer(null)}),e(o.closePinMode())}}}}}),define("stateManagement/pinMode/pinMode",["stateManagement/pinMode/pinModeActions","stateManagement/pinMode/pinModeLogic","stateManagement/pinMode/pinModeReducer","stateManagement/pinMode/pinModeSelectors"],function(e,t,n,a){"use strict";return{actions:e,logic:t,reducer:n,selectors:a}}),define("stateManagement/contextMenu/contextMenuActions",["stateManagement/contextMenu/contextMenuActionTypes"],function(e){"use strict";return{openContextMenu:function(t){var n=t.editorPositionX,a=t.editorPositionY,o=t.viewerPositionX,s=t.viewerPositionY;return{type:e.OPEN_CONTEXT_MENU,editorPositionX:n,editorPositionY:a,viewerPositionX:o,viewerPositionY:s}}}}),define("stateManagement/contextMenu/contextMenuSelectors",[],function(){"use strict";var e=function(e){return e.pinMode.pinnedCompType};return{isOpen:function(t){return Boolean(e(t))},getPinnedCompType:e}}),define("stateManagement/contextMenu/contextMenu",["stateManagement/contextMenu/contextMenuActions","stateManagement/contextMenu/contextMenuReducer","stateManagement/contextMenu/contextMenuSelectors"],function(e,t,n){"use strict";return{actions:e,reducer:t,selectors:n}}),define("stateManagement",["stateManagement/store/connect","stateManagement/store/createEditorStore","stateManagement/store/throttledStore","stateManagement/legacy/legacy","stateManagement/panels/panels","stateManagement/leftBar/leftBar","stateManagement/selection/selection","stateManagement/domain/domain","stateManagement/highlights/highlights","stateManagement/tpa/tpa","stateManagement/stage/stage","stateManagement/componentMetaData/componentMetaData","stateManagement/applyModeFromClipboard/applyModeFromClipboard","stateManagement/bi/bi","stateManagement/pinMode/pinMode","stateManagement/contextMenu/contextMenu","stateManagement/store/combineReducers"],function(e,t,n,a,o,s,r,i,l,c,u,p,d,g,f,m,P){"use strict";return{connect:e,createEditorStore:t,throttledStore:n,legacy:a,panels:o,leftBar:s,selection:r,domain:i,highlights:l,tpa:c,stage:u,componentMetaData:p,applyModeFromClipboard:d,bi:g,pinMode:f,contextMenu:m,combineReducers:P}});
//# sourceMappingURL=stateManagement.min.js.map